# Проектная работа "Веб-ларек"

Стек:
HTML,
CSS,
TS,
Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/styles/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```

## Базовый код

### Класс EventEmitter
Класс EventEmitter обеспечивает работу с событиями в JavaScript-приложениях. Он позволяет устанавливать и снимать слушателей событий, а также вызывать их при возникновении события.
Интерфейс IEvents описывает основные методы, реализуемые классом EventEmitter:

- **on** - подписка на событие
- **emit** - инициализация события
- **trigger** - возвращает функцию, при вызове которой инициализируется требуемое в параметрах событие

### Класс Component
Базовый класс для создания компонентов пользовательского интерфейса в JavaScript-приложениях. Он предоставляет базовую функциональность для работы с DOM, позволяя манипулировать элементами HTML и управлять событиями.

- **toggleClass** - переключение класса
- **setText** - установка текстового содержимого
- **setDisabled** - смена статуса блокировки
- **setHidden** - скрытие елемента
- **setVisible** - показ элемента
- **setImage** - установка изображения с альтернативным текстом
- **render** - возврат корневого DOM-элемент


### Класс Model
Базовый абстрактный класс, предназначенный для упрощения работы с моделями данных в JavaScript-приложениях. Он обеспечивает связь между переданными данными и свойствами объекта, а также позволяет инициализировать вызов именованных событий с помощью метода emitChanges.


### Класс Api
Базовая логика отправки запросов.
Методы:

- **get** - отправляет GET-запрос на указанный URL-адрес и возвращает промис с объектом ответа сервера.
- **post** - отправляет POST-запрос на указанный URL-адрес, передавая в теле запроса JSON-объект с данными. Возвращает промис с объектом ответа сервера.


## Слой данных (Model) Mvp


### Класс AppState
Класс AppState служит хранилищем данных для приложения "Веб-ларек". Он отвечает за управление и логику работы с тремя основными типами данных:

1. Корзина: Содержит список товаров, добавленных пользователем, и общую сумму заказа.
2. Продукты: Хранит информацию о доступных товарах, включая их ID, название, изображение, цену и категорию.
3. Заказ: Содержит данные о заказе пользователя, такие как имя, адрес, телефон, email, список товаров и общая сумма.

- **basket** - отслеживание выбранных карточек в корзине
- **catalog** - отслеживание списка доступных карточек продуктов
- **order** - отслеживание состояния заказа
- **preview** - отслеживание продукта в модальном окне


Методы:

- **checkProductBasket** - проверка наличия продукта в корзине
- **clearBasket** - очистка корзины
- **Total** - возвращает полную стоимость продуктов в корзине
- **BasketIds** - возвращает индексы продуктов находящихся в корзине
- **BasketLen** - возвращает количество продуктов находящихся в корзине
- **initOrder** - инициализация объекта заказа


## Класс Product
Класс данных продукта:

- **id** - идентификатор продукта
- **title** - заголовок
- **description** - описание
- **image** - путь до картинки
- **category** - категория продукта
- **price** - стоимость
- **ordered** - наличие товара в корзине


Методы:

- **addToBasket** - добавить в корзину
- **deleteFromBasket** - удалить из корзины


### Класс Order
Класс данных заказа:

- **payment** - тип платежа
- **address** - адрес
- **email** - почта
- **phone** - телефон
- **items** - объекты продуктов в корзине


Методы:

- **validation** - проверка полей формы
- **clearOrder** - очистка полей формы
- **postOrder** - событие завершения оформлениязаказа

## Классы представления (View) mVp

### Класс Page
Класс основной страницы:

- **counter** - количество элементов в корзине
- **gallery** - список товаров для отображения
- **wrapper** - блокировка прокрутки страницы
- **basket** - кнопка для отображения корзины


### Класс Card
Класс карточки:

- **category** - категория
- **title** - заголовок
- **image** - путь до картинки
- **description** - описание
- **button** - текст кнопки добавления в заказ
- **price** - стоимость


### Класс Form
Класс формы:

- **submit** - кнопка подтверждения формы
- **errors** - блок отображения ошибок


### Класс Modal
Класс модального окна:

- **closeButton** - отображение кнопки закрытия
- **content** - отображение содержания модального окна


### Класс DeliveryForm
Классформы с информацией о способе оплаты и адресом доставки:

- **paymentContainer** - элементы формы
- **paymentButtons** - элементы формы


### Класс ContactsForm
Класс отображения формы оформления заказа с контактной информацией.
Методы:

- **set phone** - указать телефон
- **set email** - указать почту


### Класс Basket
Класс корзины:

- **list** - список элементов в корзине
- **total** - стоимость корзины
- **button** - кнопка открытия формы оформления заказа


### Класс BasketItem
Класс представления элементов корзины:

- **index** - номер товара в корзине
- **title** - название товара в корзине
- **price** - стоимость товара в корзине
- **deleteBtn** - кнопка удаления из корзины


### Класс Success
Класс представления информации оформленного заказа:

- **total** - общая стоимость заказа