# Проектная работа "Веб-ларек"

Стек:
HTML,
CSS,
TS,
Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/styles/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```

## Архитектура

1. Слой отображения (View):
Компоненты:
Page: Отображает главную страницу с карточками товаров, корзиной, поиском и фильтрами.
Card: Отображает карточку товара с изображением, названием, ценой, категорией и кнопкой добавления в корзину.
CardPreview: Отображает превью карточки товара в модальном окне.
BasketItem: Отображает элемент корзины с изображением, названием, ценой, количеством и кнопкой удаления.
Modal: Отображает модальное окно с контентом (формами, превью товаров и т.д.).
Form: Отображает форму (ввода адреса, контактов, оплаты).
Success: Отображает сообщение об успешном оформлении заказа.
Функциональность:
Отображение информации о товарах (карточки, превью).
Отображение корзины и управление ей (добавление, удаление, изменение количества).
Отображение форм (ввод адреса, контактов, оплата).
Отображение сообщений (об успехе, ошибках).
Обработка событий пользователя (нажатия кнопок, ввод данных).

2. Слой представления (Presenter):
Компоненты:
AppState: Хранит состояние приложения (каталог товаров, корзину, данные заказа).
LarekAPI: Обеспечивает взаимодействие с сервером (получение товаров, отправка заказа).
PageController: Управляет логикой работы главной страницы (фильтрация, поиск, отображение товаров).
CardController: Управляет логикой работы карточки товара (добавление в корзину).
BasketController: Управляет логикой работы корзины (добавление, удаление, изменение количества).
OrderController: Управляет логикой работы форм заказа (валидация, отправка данных).
Функциональность:
Загрузка данных о товарах с сервера.
Управление корзиной (добавление, удаление, изменение количества).
Обработка форм заказа (валидация, отправка данных).
Обновление интерфейса в соответствии с состоянием приложения.
Взаимодействие с сервером (получение данных, отправка запросов).

3. Слой данных (Model):
Интерфейсы:
IProductItem: Описывает товар (ID, название, изображение, цена, категория).
ICard: Описывает карточку товара (изображение, название, цена, категория, описание, количество).
IBasket: Описывает корзину (товары, общая сумма).
IOrder: Описывает заказ (товары, адрес, контакты, общая сумма).
Логика:
Хранение данных о товарах, корзине и заказе.
Выполнение операций над данными (добавление, удаление, изменение).
Расчет общей суммы заказа.
Предоставление данных слою представления.

## Пример типизации классов:

TypeScript
// Определение интерфейса товара
interface IProduct {
  id: number;
  name: string;
  image: string;
  price: number;
  category: string;
}

Базовый код:

Кнопки:
type: button
aria-label: string (описание назначения кнопки)
Модальные окна:
id: string (уникальный идентификатор)
aria-label: string (описание содержимого)
Классы CSS:
string (название класса)
2. Модели данных:

Товар:
id: number (уникальный идентификатор)
name: string (название)
image: string (URL изображения)
price: number (цена)
category: string (категория)
Корзина:
items: IProduct[] (массив товаров)
totalPrice: number (общая стоимость)
Заказ:
firstName: string (имя)
lastName: string (фамилия)
address: string (адрес)
email: string (email)
phone: string (телефон)
items: IProduct[] (массив товаров)
totalPrice: number (общая стоимость)
3. Компоненты (в зависимости от архитектуры):

Компонент карточки товара:
product: IProduct (данные о товаре)
Компонент корзины:
basket: IBasket (данные о корзине)
Компонент формы заказа:
order: IOrder (данные о заказе)
Пример использования типов данных:

TypeScript
// Отображение карточки товара
function renderCard(product: IProduct): string {
  return `
    <div class="card">
      <img src="${product.image}" alt="${product.name}" />
      <div class="card__info">
        <h2 class="card__title">${product.name}</h2>
        <p class="card__price">${product.price}</p>
        <button class="card__button">В корзину</button>
      </div>
    </div>
  `;
}

// Добавление товара в корзину
function addToBasket(basket: IBasket, product: IProduct): void {
  basket.items.push(product);
  basket.calculateTotalPrice();
}

// Создание заказа
function createOrder(order: IOrder): Promise<void> {
  // Отправка данных заказа на сервер
  return fetch('/api/orders', {
    method: 'POST',
    body: JSON.stringify(order),
  });
}
